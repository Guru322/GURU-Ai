const _0x5ec2fa=_0xd592;(function(_0x2649da,_0x5c6b56){const _0x536431=_0xd592,_0x537fa9=_0x2649da();while(!![]){try{const _0x418c0c=parseInt(_0x536431(0x1db))/0x1*(parseInt(_0x536431(0x1c3))/0x2)+parseInt(_0x536431(0x206))/0x3*(-parseInt(_0x536431(0x119))/0x4)+-parseInt(_0x536431(0x169))/0x5+-parseInt(_0x536431(0x144))/0x6*(-parseInt(_0x536431(0x1b5))/0x7)+parseInt(_0x536431(0x120))/0x8*(-parseInt(_0x536431(0x1ff))/0x9)+-parseInt(_0x536431(0x121))/0xa+-parseInt(_0x536431(0x14a))/0xb*(-parseInt(_0x536431(0x188))/0xc);if(_0x418c0c===_0x5c6b56)break;else _0x537fa9['push'](_0x537fa9['shift']());}catch(_0xa49f6b){_0x537fa9['push'](_0x537fa9['shift']());}}}(_0x1cc9,0x982be),process[_0x5ec2fa(0x115)]['NODE_TLS_REJECT_UNAUTHORIZED']='0');import'./config.js';import{createRequire}from'module';import _0x4be9d9,{join}from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x15fd62 from'./lib/tempclear.js';import _0x54e921 from'axios';import{platform}from'process';import _0x42f3af from'dotenv';global[_0x5ec2fa(0x146)]=function filename(_0xacfd6c=import.meta[_0x5ec2fa(0x1d8)],_0x367392=platform!==_0x5ec2fa(0x1f9)){const _0x310eda=_0x5ec2fa;return _0x367392?/file:\/\/\//[_0x310eda(0x17d)](_0xacfd6c)?fileURLToPath(_0xacfd6c):_0xacfd6c:pathToFileURL(_0xacfd6c)[_0x310eda(0x19f)]();},global[_0x5ec2fa(0x1c9)]=function dirname(_0x234ae7){const _0x653518=_0x5ec2fa;return _0x4be9d9[_0x653518(0x1ce)](global[_0x653518(0x146)](_0x234ae7,!![]));},global[_0x5ec2fa(0x14d)]=function require(_0xa60368=import.meta[_0x5ec2fa(0x1d8)]){return createRequire(_0xa60368);},global[_0x5ec2fa(0x1a5)]=_0x5ec2fa(0x195);import*as _0x515bdf from'ws';import _0x4ddff4 from'cfonts';import{readdirSync,statSync,unlinkSync,existsSync,mkdirSync,readFileSync,rmSync,watch}from'fs';function _0xd592(_0x1ff2ff,_0x32615f){const _0x1cc925=_0x1cc9();return _0xd592=function(_0xd592c2,_0x1587fb){_0xd592c2=_0xd592c2-0x112;let _0x13b11e=_0x1cc925[_0xd592c2];return _0x13b11e;},_0xd592(_0x1ff2ff,_0x32615f);}import _0x1ed9d4 from'./lib/makesession.js';import _0x13f760 from'yargs';import{promisify}from'util';import{spawn}from'child_process';import _0xedf2fb from'pino';import _0x394d35 from'lodash';import _0x58feac from'chalk';function _0x1cc9(){const _0x3994bf=['output','31966UfMVVk','black','-\x20Method','__require','./handler.js?update=','name','pairingNumber','What\x20method\x20do\x20you\x20want\x20to\x20use?\x20\x22sms\x22\x20or\x20\x22voice\x22','ðŸ‘‹\x20GOODBYE\x20@user\x20','race','parse','session','APIKeys','phoneNumber','uncaughtException','opts','exitProcess','processTxtAndSaveCredentials\x20completed.','catch','message','*@user*\x20has\x20been\x20promoted\x20to\x20an\x20admin!','fromEntries','fatal','deleteUpdate','\x0aUpdated\x20plugin\x20-\x20\x27','\x0a\x0aSee\x20you\x20later!','info','greenBright','subject','plugins','isInit','2790765QJZAjy','Please\x20Enter\x20Your\x20OTP\x20Code','*@user*\x20is\x20no\x20longer\x20an\x20admin.','cyan','sendMessage','prefix','ðŸ“¨\x20','error','--mobile','module','log','chats','nationalNumber','\x0aInvalid\x20phone\x20number:\x20','Cannot\x20use\x20pairing\x20code\x20with\x20mobile\x20api','ðŸ‘¤ðŸ™…â€â™‚ï¸','-type','./session','-loglevel','data','test','bind','credsUpdate','--version','promote','APIs','Start\x20with\x20your\x20country\x27s\x20WhatsApp\x20code,\x20Example\x20:\x2062xxx','Please\x20type\x20your\x20WhatsApp\x20number','@whiskeysockets/baileys','restrictOn','sRestrictOn','13236vDxWJj','then','redBright','send','announceOn','bold','magick','user','forEach','participantsUpdate','some','\x20The\x20group\x20link\x20has\x20been\x20changed\x20to:\x0a@revoke','all','https://www.guruapi.tech/api','Q2hlYXAgQ29weSBPZiBHdXJ1IEJvdCBGb3VuZCAsIFBsZWFzZSBVc2UgdGhlIE9yaWdpbmFsIEd1cnUgQm90IEZyb20gaHR0cHM6Ly9naXRodWIuY29tL0d1cnUzMjIvR1VSVS1CT1QK','./plugins/index','groups.update','tmpdir','spromote','entries','warn','sIcon','authFolder','toString','chrome\x20(linux)','connection.update','utf8','replace','loadDatabase','gurubot','find','connectionUpdate','cyanBright','\x0aSyntax\x20error\x20while\x20loading\x20\x27','-filter_complex','author','off','yellow','\x0aDeleted\x20plugin\x20-\x20\x27','\x20Congrats\x20you\x20have\x20successfully\x20deployed\x20GURU-BOT\x0aJoin\x20my\x20support\x20Group\x20for\x20any\x20Query\x0a\x20https://chat.whatsapp.com/F3sB3pR3tClBvVmlIkqDJp','message.delete','presenceUpdate','localeCompare','DATABASE_URL','pollUpdate','2839942nvyBBY','map','ffmpeg','keys','\x20The\x20group\x20title\x20has\x20been\x20changed\x20to:\x0a@group','tmp','argv','base64','removeAllListeners','-\x20Number','stdout','Error:','authState','Temporary\x20file\x20cleanup\x20completed.','6298WbOOiV','database.json','exit','SERVER_PORT','\x0aWaiting\x20For\x20Login\x0a','match','__dirname','endsWith','An\x20error\x20occurred\x20during\x20temporary\x20file\x20cleanup:','creds.update','sAnnounceOn','dirname','support','isChats','messages.update','\x0aLogging\x20in....','toLowerCase','welcome','phoneNumberCountryCode','presence.update','\x0aStored\x20Sessions\x20Cleared\x20âœ…','url','slice','bye','17eaEEkz','logger','ffprobe','read','sSubject','onDelete','-delete','restrictOff','default','convert','func','\x20\x20\x20','messages.upsert','bgBlack','filter','PORT','sms','freeze','stdin','Z3VydQ==','child','socket','phoneNumberNationalNumber','startsWith','groupsUpdate','desc','statusCode','./server.js','-\x20Code','package.json','win32','handler','\x20The\x20group\x20description\x20has\x20been\x20updated\x20to:\x0a@desc','?update=','write','\x20Edit\x20Group\x20Info\x20has\x20been\x20restricted\x20to\x20admins\x20only!','1506051xDXWqz','@g.us','server','revoke','Successfully\x20registered\x20your\x20phone\x20number.','\x20Edit\x20Group\x20Info\x20is\x20now\x20available\x20to\x20all\x20participants!','\x0aFailed\x20to\x20request\x20registration\x20code.\x20Please\x20try\x20again.\x0a','918069svqbOZ','U2VjdXJpdHkgY2hlY2sgcGFzc2VkLCBUaGFua3MgRm9yIHVzaW5nIEd1cnUgTXVsdGlEZXZpY2U=','join','register','Your\x20Pairing\x20Code:','from','env','trim','sRestrictOff','length','16XsmjKU','voice','trace','reloadHandler','close','./session/','sRevoke','24jlXOBv','11627070dOvxRH','\x20The\x20group\x20icon\x20has\x20been\x20updated!','phoneNumberMobileCountryCode','./handler.js','includes','bgGreenBright','registered','-frames:v','\x0aNew\x20plugin\x20-\x20\x27','creds','color','writeToFile','\x0aFailed\x20to\x20register\x20your\x20phone\x20number.\x20Please\x20try\x20again.\x0a','stopped','-hide_banner','reload','toJSON','Please\x20type\x20your\x20WhatsApp\x20number\x20:\x20','LOl','icon','conn','READ','\x20The\x20group\x20is\x20now\x20*CLOSED*!\x0aOnly\x20admins\x20can\x20send\x20messages.','remoteJid','loggedOut','\x0aðŸš©\x20R\x20E\x20A\x20D\x20Y','store','group-participants.update','Start\x20with\x20your\x20country\x27s\x20WhatsApp\x20code,\x20Example\x2062xxx','method','sDesc','sdemote','HaiðŸ¤©','question','ðŸ–¼ï¸','12BTSvOn','reset','__filename','ðŸ’¬\x20','--pairing-code'];_0x1cc9=function(){return _0x3994bf;};return _0x1cc9();}import _0x48adc0 from'syntax-error';import{tmpdir}from'os';import{format}from'util';import{Boom}from'@hapi/boom';import _0x35b3b4 from'pino';import{makeWASocket,protoType,serialize}from'./lib/simple.js';import{Low,JSONFile}from'lowdb';import{MongoDB}from'./lib/mongoDB.js';import _0x5857a9 from'./lib/cloudDBAdapter.js';import _0x782c7d from'node-cache';const {DisconnectReason,useMultiFileAuthState,MessageRetryMap,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,makeInMemoryStore,proto,delay,jidNormalizedUser,PHONENUMBER_MCC,Browsers}=await(await import(_0x5ec2fa(0x185)))[_0x5ec2fa(0x1e3)];import _0x519a99 from'readline';import{parsePhoneNumber}from'libphonenumber-js';import _0x3280a2 from'./lib/helper.js';import _0x57a97d from'emoji-regex';_0x42f3af['config']();async function gandu(){const _0x4f0bfa=_0x5ec2fa;try{const _0x46f9b2=readFileSync(_0x4f0bfa(0x1f8),_0x4f0bfa(0x1a2)),_0x149977=JSON[_0x4f0bfa(0x154)](_0x46f9b2),_0x4c21be=_0x149977[_0x4f0bfa(0x1ab)]&&_0x149977[_0x4f0bfa(0x1ab)][_0x4f0bfa(0x14f)];!_0x4c21be&&(console[_0x4f0bfa(0x173)](_0x4f0bfa(0x133)),process[_0x4f0bfa(0x1c5)](0x1));const _0x3e4679=Buffer['from'](_0x4f0bfa(0x1ee),'base64')[_0x4f0bfa(0x19f)](),_0x595736=Buffer['from'](_0x4f0bfa(0x196),_0x4f0bfa(0x1bc))[_0x4f0bfa(0x19f)](),_0x32350d=Buffer[_0x4f0bfa(0x114)](_0x4f0bfa(0x207),'base64')[_0x4f0bfa(0x19f)]();_0x4c21be&&_0x4c21be[_0x4f0bfa(0x116)]()[_0x4f0bfa(0x1d3)]()!==_0x3e4679[_0x4f0bfa(0x1d3)]()?(console[_0x4f0bfa(0x173)](_0x595736),process[_0x4f0bfa(0x1c5)](0x1)):(console[_0x4f0bfa(0x173)](''+_0x32350d),console[_0x4f0bfa(0x173)](_0x58feac[_0x4f0bfa(0x1e8)](_0x58feac[_0x4f0bfa(0x18a)]('initializing\x20Guru\x20Bot'))));}catch(_0x5fb749){console[_0x4f0bfa(0x170)]('Error:',_0x5fb749);}}gandu();async function main(){const _0x4a452f=_0x5ec2fa,_0x4db71b=process[_0x4a452f(0x115)]['SESSION_ID'];if(!_0x4db71b){console[_0x4a452f(0x170)]('Environment\x20variable\x20not\x20found.');return;}try{await _0x1ed9d4(_0x4db71b),console['log'](_0x4a452f(0x15b));}catch(_0x434526){console[_0x4a452f(0x170)](_0x4a452f(0x1c0),_0x434526);}}main(),await delay(0x3e8*0xa);const pairingCode=!!global[_0x5ec2fa(0x150)]||process[_0x5ec2fa(0x1bb)][_0x5ec2fa(0x125)](_0x5ec2fa(0x148)),useMobile=process['argv'][_0x5ec2fa(0x125)](_0x5ec2fa(0x171)),useQr=process[_0x5ec2fa(0x1bb)][_0x5ec2fa(0x125)]('--qr'),useStore=![],MAIN_LOGGER=_0xedf2fb({'timestamp':()=>',\x22time\x22:\x22'+new Date()[_0x5ec2fa(0x131)]()+'\x22'}),logger=MAIN_LOGGER[_0x5ec2fa(0x1ef)]({});logger['level']=_0x5ec2fa(0x11b);const store=useStore?makeInMemoryStore({'logger':logger}):undefined;store?.['readFromFile'](_0x5ec2fa(0x17a)),setInterval(()=>{const _0x163a5b=_0x5ec2fa;store?.[_0x163a5b(0x12c)]('./session');},0x2710*0x6);const msgRetryCounterCache=new _0x782c7d(),rl=_0x519a99['createInterface']({'input':process[_0x5ec2fa(0x1ed)],'output':process[_0x5ec2fa(0x1bf)]}),question=_0x3c85ef=>new Promise(_0x54d883=>rl[_0x5ec2fa(0x142)](_0x3c85ef,_0x54d883)),{CONNECTING}=_0x515bdf,{chain}=_0x394d35,PORT=process[_0x5ec2fa(0x115)][_0x5ec2fa(0x1ea)]||process[_0x5ec2fa(0x115)][_0x5ec2fa(0x1c6)]||0xbb8;protoType(),serialize(),global['API']=(_0x207607,_0x1c8ebc='/',_0x4b5d23={},_0x20717b)=>(_0x207607 in global['APIs']?global[_0x5ec2fa(0x182)][_0x207607]:_0x207607)+_0x1c8ebc+(_0x4b5d23||_0x20717b?'?'+new URLSearchParams(Object['entries']({..._0x4b5d23,..._0x20717b?{[_0x20717b]:global[_0x5ec2fa(0x156)][_0x207607 in global['APIs']?global[_0x5ec2fa(0x182)][_0x207607]:_0x207607]}:{}})):''),global['timestamp']={'start':new Date()};const __dirname=global[_0x5ec2fa(0x1c9)](import.meta['url']);global[_0x5ec2fa(0x159)]=new Object(_0x13f760(process[_0x5ec2fa(0x1bb)][_0x5ec2fa(0x1d9)](0x2))[_0x5ec2fa(0x15a)](![])[_0x5ec2fa(0x154)]());const symbolRegex=/^[^\w\s\d]/u,emojiAndSymbolRegex=new RegExp('('+symbolRegex['source']+'|'+_0x57a97d()['source']+')','u');global[_0x5ec2fa(0x16e)]=emojiAndSymbolRegex,global[_0x5ec2fa(0x159)]['db']=process['env'][_0x5ec2fa(0x1b3)],global['db']=new Low(/https?:\/\//['test'](opts['db']||'')?new _0x5857a9(opts['db']):/mongodb(\+srv)?:\/\//i[_0x5ec2fa(0x17d)](opts['db'])?new MongoDB(opts['db']):new JSONFile((opts['_'][0x0]?opts['_'][0x0]+'_':'')+_0x5ec2fa(0x1c4))),global['DATABASE']=global['db'],global[_0x5ec2fa(0x1a4)]=async function loadDatabase(){const _0x54aae5=_0x5ec2fa;if(global['db']['READ'])return new Promise(_0x4edf6f=>setInterval(async function(){const _0x4a0fac=_0xd592;!global['db']['READ']&&(clearInterval(this),_0x4edf6f(global['db'][_0x4a0fac(0x17c)]==null?global[_0x4a0fac(0x1a4)]():global['db'][_0x4a0fac(0x17c)]));},0x1*0x3e8));if(global['db'][_0x54aae5(0x17c)]!==null)return;global['db'][_0x54aae5(0x136)]=!![],await global['db'][_0x54aae5(0x1de)]()['catch'](console[_0x54aae5(0x170)]),global['db'][_0x54aae5(0x136)]=null,global['db'][_0x54aae5(0x17c)]={'users':{},'chats':{},'stats':{},'msgs':{},'sticker':{},'settings':{},...global['db'][_0x54aae5(0x17c)]||{}},global['db']['chain']=chain(global['db'][_0x54aae5(0x17c)]);},loadDatabase(),global['authFolder']=_0x5ec2fa(0x155);const {state,saveCreds}=await useMultiFileAuthState(global[_0x5ec2fa(0x19e)]);let {version,isLatest}=await fetchLatestBaileysVersion();const connectionOptions={'version':version,'logger':_0x35b3b4({'level':_0x5ec2fa(0x160)}),'printQRInTerminal':!pairingCode,'mobile':useMobile,'browser':[_0x5ec2fa(0x1a0),'',''],'auth':{'creds':state[_0x5ec2fa(0x12a)],'keys':makeCacheableSignalKeyStore(state[_0x5ec2fa(0x1b8)],_0x35b3b4()[_0x5ec2fa(0x1ef)]({'level':_0x5ec2fa(0x160),'stream':_0x5ec2fa(0x13b)}))},'markOnlineOnConnect':!![],'generateHighQualityLinkPreview':!![],'getMessage':async _0x20df67=>{const _0x203291=_0x5ec2fa;let _0x8c6616=jidNormalizedUser(_0x20df67[_0x203291(0x138)]),_0x1b6b94=await store['loadMessage'](_0x8c6616,_0x20df67['id']);return _0x1b6b94?.[_0x203291(0x15d)]||'';},'msgRetryCounterCache':msgRetryCounterCache,'defaultQueryTimeoutMs':undefined};global['conn']=makeWASocket(connectionOptions),conn[_0x5ec2fa(0x168)]=![],store?.[_0x5ec2fa(0x17e)](conn['ev']);if(pairingCode&&!conn[_0x5ec2fa(0x1c1)][_0x5ec2fa(0x12a)][_0x5ec2fa(0x127)]){if(useMobile)throw new Error(_0x5ec2fa(0x177));let phoneNumber;!!global[_0x5ec2fa(0x150)]?(phoneNumber=global[_0x5ec2fa(0x150)][_0x5ec2fa(0x1a3)](/[^0-9]/g,''),!Object[_0x5ec2fa(0x1b8)](PHONENUMBER_MCC)[_0x5ec2fa(0x192)](_0x8ccb22=>phoneNumber[_0x5ec2fa(0x1f2)](_0x8ccb22))&&(console['log'](_0x58feac[_0x5ec2fa(0x1e8)](_0x58feac[_0x5ec2fa(0x18a)](_0x5ec2fa(0x183)))),process[_0x5ec2fa(0x1c5)](0x0))):(phoneNumber=await question(_0x58feac[_0x5ec2fa(0x1e8)](_0x58feac['greenBright'](_0x5ec2fa(0x132)))),phoneNumber=phoneNumber[_0x5ec2fa(0x1a3)](/[^0-9]/g,''),!Object[_0x5ec2fa(0x1b8)](PHONENUMBER_MCC)['some'](_0x1946e4=>phoneNumber['startsWith'](_0x1946e4))&&(console[_0x5ec2fa(0x173)](_0x58feac[_0x5ec2fa(0x1e8)](_0x58feac['redBright'](_0x5ec2fa(0x183)))),phoneNumber=await question(_0x58feac['bgBlack'](_0x58feac[_0x5ec2fa(0x165)](_0x5ec2fa(0x132)))),phoneNumber=phoneNumber[_0x5ec2fa(0x1a3)](/[^0-9]/g,''),rl[_0x5ec2fa(0x11d)]())),setTimeout(async()=>{const _0x3961e2=_0x5ec2fa;let _0x548082=await conn['requestPairingCode'](phoneNumber);_0x548082=_0x548082?.[_0x3961e2(0x1c8)](/.{1,4}/g)?.[_0x3961e2(0x208)]('-')||_0x548082;const _0xa27b69=_0x58feac[_0x3961e2(0x18d)][_0x3961e2(0x165)](_0x3961e2(0x113))+'\x20'+_0x58feac[_0x3961e2(0x126)](_0x58feac[_0x3961e2(0x14b)](_0x548082));console[_0x3961e2(0x173)](_0xa27b69);},0xbb8);}if(useMobile&&!conn[_0x5ec2fa(0x1c1)][_0x5ec2fa(0x12a)]['registered']){const {registration}=conn['authState'][_0x5ec2fa(0x12a)]||{'registration':{}};if(!registration[_0x5ec2fa(0x157)]){console[_0x5ec2fa(0x173)](_0x5ec2fa(0x16f)+_0x58feac['redBright'](_0x5ec2fa(0x184))+':');let phoneNumber=await question(_0x5ec2fa(0x1e6)+_0x58feac['cyan']('-\x20Number')+':\x20');phoneNumber=phoneNumber[_0x5ec2fa(0x1a3)](/[^0-9]/g,''),!Object['keys'](PHONENUMBER_MCC)[_0x5ec2fa(0x192)](_0x58408e=>phoneNumber[_0x5ec2fa(0x1f2)](_0x58408e))&&(console[_0x5ec2fa(0x173)](_0x5ec2fa(0x147)+_0x58feac[_0x5ec2fa(0x18a)](_0x5ec2fa(0x13d))+':'),console[_0x5ec2fa(0x173)]('ðŸ“¨\x20'+_0x58feac[_0x5ec2fa(0x18a)](_0x5ec2fa(0x184))+':'),phoneNumber=await question('\x20\x20\x20'+_0x58feac[_0x5ec2fa(0x16c)](_0x5ec2fa(0x1be))+':\x20'),phoneNumber=phoneNumber[_0x5ec2fa(0x1a3)](/[^0-9]/g,'')),registration[_0x5ec2fa(0x157)]='+'+phoneNumber;}const phoneNumber=parsePhoneNumber(registration[_0x5ec2fa(0x157)]);if(!phoneNumber['isValid']())conn['logger'][_0x5ec2fa(0x170)](_0x5ec2fa(0x176)+registration[_0x5ec2fa(0x157)]);registration['phoneNumber']=phoneNumber['format']('E.164'),registration[_0x5ec2fa(0x1d5)]=phoneNumber['countryCallingCode'],registration[_0x5ec2fa(0x1f1)]=phoneNumber[_0x5ec2fa(0x175)];const mcc=PHONENUMBER_MCC[phoneNumber['countryCallingCode']];registration[_0x5ec2fa(0x123)]=mcc;async function enterCode(){const _0x26586e=_0x5ec2fa;try{console[_0x26586e(0x173)](_0x26586e(0x16f)+_0x58feac[_0x26586e(0x18a)](_0x26586e(0x16a))+':');const _0x16b385=await question(_0x26586e(0x1e6)+_0x58feac['cyan'](_0x26586e(0x1f7))+':\x20'),_0x23da0d=await conn[_0x26586e(0x112)](_0x16b385['replace'](/[^0-9]/g,'')[_0x26586e(0x116)]()['toLowerCase']());console[_0x26586e(0x173)]('ðŸ’¬\x20'+_0x58feac[_0x26586e(0x18a)](_0x26586e(0x203))),console[_0x26586e(0x173)](_0x23da0d),rl[_0x26586e(0x11d)]();}catch(_0x19cd6e){conn[_0x26586e(0x1dc)][_0x26586e(0x170)](_0x26586e(0x12d),_0x19cd6e),await askOTP();}}async function askOTP(){const _0x5468a9=_0x5ec2fa;console[_0x5468a9(0x173)](_0x5468a9(0x16f)+_0x58feac[_0x5468a9(0x18a)](_0x5468a9(0x151)));let _0x3c97fc=await question('\x20\x20\x20'+_0x58feac[_0x5468a9(0x16c)](_0x5468a9(0x14c))+':\x20');_0x3c97fc=_0x3c97fc[_0x5468a9(0x1a3)](/["']/g,'')['trim']()[_0x5468a9(0x1d3)]();if(_0x3c97fc!==_0x5468a9(0x1eb)&&_0x3c97fc!==_0x5468a9(0x11a))return await askOTP();registration[_0x5468a9(0x13e)]=_0x3c97fc;try{await conn['requestRegistrationCode'](registration),await enterCode();}catch(_0x43efe9){conn[_0x5468a9(0x1dc)][_0x5468a9(0x170)](_0x5468a9(0x205),_0x43efe9),await askOTP();}}await askOTP();}conn['logger'][_0x5ec2fa(0x164)](_0x5ec2fa(0x1c7));!opts['test']&&(global['db']&&setInterval(async()=>{const _0x2aa483=_0x5ec2fa;if(global['db'][_0x2aa483(0x17c)])await global['db'][_0x2aa483(0x1fd)]();if(opts['autocleartmp']&&(global[_0x2aa483(0x1cf)]||{})[_0x2aa483(0x1a6)])tmp=[os[_0x2aa483(0x199)](),_0x2aa483(0x1ba)],tmp['forEach'](_0x1b705e=>cp['spawn'](_0x2aa483(0x1a6),[_0x1b705e,'-amin','3',_0x2aa483(0x179),'f',_0x2aa483(0x1e1)]));},0x1e*0x3e8));if(opts[_0x5ec2fa(0x201)])(await import(_0x5ec2fa(0x1f6)))['default'](global[_0x5ec2fa(0x135)],PORT);function runCleanup(){_0x15fd62()['then'](()=>{const _0x390db4=_0xd592;console[_0x390db4(0x173)](_0x390db4(0x1c2));})['catch'](_0x5e3eeb=>{const _0x1374de=_0xd592;console[_0x1374de(0x170)](_0x1374de(0x1cb),_0x5e3eeb);})['finally'](()=>{setTimeout(runCleanup,0x3e8*0x3c*0x2);});}runCleanup();function purgeSession(){const _0x1b561f=_0x5ec2fa;let _0x4e6f16=[];const _0x253f91=readdirSync('./session'),_0x16a3f2=_0x253f91[_0x1b561f(0x1e9)](_0x2489a2=>{const _0x1ccca6=_0x1b561f;return _0x2489a2[_0x1ccca6(0x1f2)]('pre-key-');});_0x4e6f16=[..._0x4e6f16,..._0x16a3f2],_0x16a3f2[_0x1b561f(0x190)](_0x3f1ded=>{const _0x3866b9=_0x1b561f;unlinkSync(_0x3866b9(0x11e)+_0x3f1ded);});}async function connectionUpdate(_0x3f2b44){const _0x4eeb44=_0x5ec2fa,{connection:_0x24b0ae,lastDisconnect:_0x1c7b70,isNewLogin:_0x1c0aab,qr:_0x3c426e}=_0x3f2b44;global[_0x4eeb44(0x12e)]=_0x24b0ae;if(_0x1c0aab)conn[_0x4eeb44(0x168)]=!![];const _0x2dc32e=_0x1c7b70?.[_0x4eeb44(0x170)]?.[_0x4eeb44(0x149)]?.[_0x4eeb44(0x1f5)]||_0x1c7b70?.[_0x4eeb44(0x170)]?.[_0x4eeb44(0x149)]?.['payload']?.['statusCode'];_0x2dc32e&&_0x2dc32e!==DisconnectReason[_0x4eeb44(0x139)]&&conn?.['ws'][_0x4eeb44(0x1f0)]==null&&conn['logger'][_0x4eeb44(0x164)](await global[_0x4eeb44(0x11c)](!![])[_0x4eeb44(0x15c)](console[_0x4eeb44(0x170)]));if(global['db'][_0x4eeb44(0x17c)]==null)loadDatabase();!pairingCode&&!useMobile&&useQr&&_0x3c426e!=0x0&&_0x3c426e!=undefined&&conn[_0x4eeb44(0x1dc)][_0x4eeb44(0x164)](_0x58feac[_0x4eeb44(0x1ad)](_0x4eeb44(0x1d2)));if(_0x24b0ae==='open'){const {jid:_0xf196dd,name:_0xf4d763}=conn['user'];let _0x5168ac=_0x4eeb44(0x141)+_0xf4d763+_0x4eeb44(0x1af),_0x2eb585=conn[_0x4eeb44(0x16d)](_0xf196dd,{'text':_0x5168ac,'mentions':[_0xf196dd]},{'quoted':null});conn[_0x4eeb44(0x1dc)][_0x4eeb44(0x164)](_0x58feac['yellow'](_0x4eeb44(0x13a)));}_0x24b0ae==_0x4eeb44(0x11d)&&(conn[_0x4eeb44(0x1dc)][_0x4eeb44(0x170)](_0x58feac[_0x4eeb44(0x1ad)]('\x0aconnection\x20closed....\x20Trying\x20to\x20Restart')),process[_0x4eeb44(0x18b)](_0x4eeb44(0x145)));}process['on'](_0x5ec2fa(0x158),console[_0x5ec2fa(0x170)]);let isInit=!![],handler=await import(_0x5ec2fa(0x124));global['reloadHandler']=async function(_0x1a1136){const _0x1292a6=_0x5ec2fa;try{const _0x251862=await import(_0x1292a6(0x14e)+Date['now']())['catch'](console[_0x1292a6(0x170)]);if(Object[_0x1292a6(0x1b8)](_0x251862||{})[_0x1292a6(0x118)])handler=_0x251862;}catch(_0x2ebc62){console['error'];}if(_0x1a1136){const _0x4e666d=global['conn'][_0x1292a6(0x174)];try{global['conn']['ws'][_0x1292a6(0x11d)]();}catch{}conn['ev'][_0x1292a6(0x1bd)](),global['conn']=makeWASocket(connectionOptions,{'chats':_0x4e666d}),isInit=!![];}!isInit&&(conn['ev']['off']('messages.upsert',conn[_0x1292a6(0x1fa)]),conn['ev'][_0x1292a6(0x1ac)](_0x1292a6(0x1d1),conn['pollUpdate']),conn['ev']['off'](_0x1292a6(0x13c),conn[_0x1292a6(0x191)]),conn['ev']['off']('groups.update',conn[_0x1292a6(0x1f3)]),conn['ev']['off'](_0x1292a6(0x1b0),conn[_0x1292a6(0x1e0)]),conn['ev'][_0x1292a6(0x1ac)](_0x1292a6(0x1d6),conn[_0x1292a6(0x1b1)]),conn['ev'][_0x1292a6(0x1ac)](_0x1292a6(0x1a1),conn['connectionUpdate']),conn['ev'][_0x1292a6(0x1ac)](_0x1292a6(0x1cc),conn[_0x1292a6(0x17f)]));const _0x3068fb={'welcome':'ðŸ‘‹','bye':'ðŸ‘‹','promote':'ðŸ‘¤ðŸ‘‘','demote':_0x1292a6(0x178),'desc':'ðŸ“','subject':'ðŸ“Œ','icon':_0x1292a6(0x143),'revoke':'ðŸ”—','announceOn':'ðŸ”’','announceOff':'ðŸ”“','restrictOn':'ðŸš«','restrictOff':'âœ…'};conn[_0x1292a6(0x1d4)]=_0x3068fb['welcome']+'\x20Hello\x20@user!\x0a\x0aðŸŽ‰\x20*WELCOME*\x20to\x20the\x20group\x20@group!\x0a\x0aðŸ“œ\x20Please\x20read\x20the\x20*DESCRIPTION*\x20@desc.',conn[_0x1292a6(0x1da)]=_0x1292a6(0x152)+_0x3068fb['bye']+_0x1292a6(0x163),conn[_0x1292a6(0x19a)]=_0x3068fb[_0x1292a6(0x181)]+_0x1292a6(0x15e),conn[_0x1292a6(0x140)]=_0x3068fb['demote']+_0x1292a6(0x16b),conn[_0x1292a6(0x13f)]=_0x3068fb[_0x1292a6(0x1f4)]+_0x1292a6(0x1fb),conn[_0x1292a6(0x1df)]=_0x3068fb[_0x1292a6(0x166)]+_0x1292a6(0x1b9),conn[_0x1292a6(0x19d)]=_0x3068fb[_0x1292a6(0x134)]+_0x1292a6(0x122),conn[_0x1292a6(0x11f)]=_0x3068fb[_0x1292a6(0x202)]+_0x1292a6(0x193),conn[_0x1292a6(0x1cd)]=_0x3068fb[_0x1292a6(0x18c)]+_0x1292a6(0x137),conn['sAnnounceOff']=_0x3068fb['announceOff']+'\x20The\x20group\x20is\x20now\x20*OPEN*!\x0aAll\x20participants\x20can\x20send\x20messages.',conn[_0x1292a6(0x187)]=_0x3068fb[_0x1292a6(0x186)]+_0x1292a6(0x1fe),conn[_0x1292a6(0x117)]=_0x3068fb[_0x1292a6(0x1e2)]+_0x1292a6(0x204),conn[_0x1292a6(0x1fa)]=handler['handler'][_0x1292a6(0x17e)](global['conn']),conn[_0x1292a6(0x1b4)]=handler[_0x1292a6(0x1b4)][_0x1292a6(0x17e)](global[_0x1292a6(0x135)]),conn['participantsUpdate']=handler[_0x1292a6(0x191)][_0x1292a6(0x17e)](global[_0x1292a6(0x135)]),conn[_0x1292a6(0x1f3)]=handler[_0x1292a6(0x1f3)]['bind'](global[_0x1292a6(0x135)]),conn['onDelete']=handler[_0x1292a6(0x161)]['bind'](global[_0x1292a6(0x135)]),conn[_0x1292a6(0x1b1)]=handler['presenceUpdate']['bind'](global[_0x1292a6(0x135)]),conn[_0x1292a6(0x1a7)]=connectionUpdate['bind'](global[_0x1292a6(0x135)]),conn['credsUpdate']=saveCreds['bind'](global[_0x1292a6(0x135)],!![]);const _0x1f89f5=new Date(),_0x42f767=new Date(conn['ev']);if(_0x1f89f5>=_0x42f767){const _0x6ee1e2=Object['entries'](conn[_0x1292a6(0x174)])['filter'](([_0x141c10,_0x19edcf])=>!_0x141c10['endsWith'](_0x1292a6(0x200))&&_0x19edcf[_0x1292a6(0x1d0)])[_0x1292a6(0x1b6)](_0x1e8e28=>_0x1e8e28[0x0]);}else{const _0x106572=Object[_0x1292a6(0x19b)](conn[_0x1292a6(0x174)])[_0x1292a6(0x1e9)](([_0x190e66,_0x16a393])=>!_0x190e66[_0x1292a6(0x1ca)](_0x1292a6(0x200))&&_0x16a393[_0x1292a6(0x1d0)])['map'](_0x6bb161=>_0x6bb161[0x0]);}return conn['ev']['on'](_0x1292a6(0x1e7),conn[_0x1292a6(0x1fa)]),conn['ev']['on'](_0x1292a6(0x1d1),conn['pollUpdate']),conn['ev']['on'](_0x1292a6(0x13c),conn[_0x1292a6(0x191)]),conn['ev']['on'](_0x1292a6(0x198),conn[_0x1292a6(0x1f3)]),conn['ev']['on'](_0x1292a6(0x1b0),conn[_0x1292a6(0x1e0)]),conn['ev']['on'](_0x1292a6(0x1d6),conn['presenceUpdate']),conn['ev']['on']('connection.update',conn['connectionUpdate']),conn['ev']['on'](_0x1292a6(0x1cc),conn[_0x1292a6(0x17f)]),isInit=![],!![];};const pluginFolder=global['__dirname'](join(__dirname,_0x5ec2fa(0x197))),pluginFilter=_0x1b15e5=>/\.js$/[_0x5ec2fa(0x17d)](_0x1b15e5);global[_0x5ec2fa(0x167)]={};async function filesInit(){const _0x4fdc3a=_0x5ec2fa;for(const _0x514d60 of readdirSync(pluginFolder)[_0x4fdc3a(0x1e9)](pluginFilter)){try{const _0x13d1e7=global[_0x4fdc3a(0x146)](join(pluginFolder,_0x514d60)),_0x6bfbfe=await import(_0x13d1e7);global[_0x4fdc3a(0x167)][_0x514d60]=_0x6bfbfe[_0x4fdc3a(0x1e3)]||_0x6bfbfe;}catch(_0x301fdf){conn[_0x4fdc3a(0x1dc)][_0x4fdc3a(0x170)](_0x301fdf),delete global['plugins'][_0x514d60];}}}filesInit()[_0x5ec2fa(0x189)](_0x270039=>Object[_0x5ec2fa(0x1b8)](global['plugins']))['catch'](console[_0x5ec2fa(0x170)]),global[_0x5ec2fa(0x130)]=async(_0x40b2b5,_0x402b4d)=>{const _0x278a7f=_0x5ec2fa;if(pluginFilter(_0x402b4d)){const _0x34a284=global['__filename'](join(pluginFolder,_0x402b4d),!![]);if(_0x402b4d in global[_0x278a7f(0x167)]){if(existsSync(_0x34a284))conn[_0x278a7f(0x1dc)][_0x278a7f(0x164)](_0x278a7f(0x162)+_0x402b4d+'\x27');else return conn[_0x278a7f(0x1dc)][_0x278a7f(0x19c)](_0x278a7f(0x1ae)+_0x402b4d+'\x27'),delete global[_0x278a7f(0x167)][_0x402b4d];}else conn[_0x278a7f(0x1dc)]['info'](_0x278a7f(0x129)+_0x402b4d+'\x27');const _0xf21c2d=_0x48adc0(readFileSync(_0x34a284),_0x402b4d,{'sourceType':_0x278a7f(0x172),'allowAwaitOutsideFunction':!![]});if(_0xf21c2d)conn[_0x278a7f(0x1dc)][_0x278a7f(0x170)](_0x278a7f(0x1a9)+_0x402b4d+'\x27\x0a'+format(_0xf21c2d));else try{const _0x2bb4b6=await import(global[_0x278a7f(0x146)](_0x34a284)+_0x278a7f(0x1fc)+Date['now']());global[_0x278a7f(0x167)][_0x402b4d]=_0x2bb4b6[_0x278a7f(0x1e3)]||_0x2bb4b6;}catch(_0x57f316){conn[_0x278a7f(0x1dc)][_0x278a7f(0x170)]('\x0aError\x20require\x20plugin\x20\x27'+_0x402b4d+'\x0a'+format(_0x57f316)+'\x27');}finally{global[_0x278a7f(0x167)]=Object[_0x278a7f(0x15f)](Object[_0x278a7f(0x19b)](global[_0x278a7f(0x167)])['sort'](([_0x58a60d],[_0x582479])=>_0x58a60d[_0x278a7f(0x1b2)](_0x582479)));}}},Object[_0x5ec2fa(0x1ec)](global['reload']),watch(pluginFolder,global[_0x5ec2fa(0x130)]),await global['reloadHandler']();async function _quickTest(){const _0x1bb96e=_0x5ec2fa,_0x5de502=await Promise[_0x1bb96e(0x194)]([spawn('ffmpeg'),spawn(_0x1bb96e(0x1dd)),spawn(_0x1bb96e(0x1b7),[_0x1bb96e(0x12f),_0x1bb96e(0x17b),_0x1bb96e(0x170),_0x1bb96e(0x1aa),_0x1bb96e(0x12b),_0x1bb96e(0x128),'1','-f','webp','-']),spawn(_0x1bb96e(0x1e4)),spawn(_0x1bb96e(0x18e)),spawn('gm'),spawn(_0x1bb96e(0x1a6),[_0x1bb96e(0x180)])][_0x1bb96e(0x1b6)](_0x4e5eb9=>{const _0x37a014=_0x1bb96e;return Promise[_0x37a014(0x153)]([new Promise(_0x58d61f=>{_0x4e5eb9['on']('close',_0x632768=>{_0x58d61f(_0x632768!==0x7f);});}),new Promise(_0x2e27cc=>{const _0x4f4f89=_0x37a014;_0x4e5eb9['on'](_0x4f4f89(0x170),_0x33c77c=>_0x2e27cc(![]));})]);})),[_0x58acb6,_0x41095f,_0xe2f34c,_0x336a54,_0x376884,_0x51439b,_0x42bf18]=_0x5de502,_0x229ba0=global['support']={'ffmpeg':_0x58acb6,'ffprobe':_0x41095f,'ffmpegWebp':_0xe2f34c,'convert':_0x336a54,'magick':_0x376884,'gm':_0x51439b,'find':_0x42bf18};Object[_0x1bb96e(0x1ec)](global[_0x1bb96e(0x1cf)]);}const actions=[{'func':purgeSession,'message':_0x5ec2fa(0x1d7)}];for(const action of actions){setInterval(async()=>{const _0x1593b9=_0x5ec2fa;if(stopped==='close'||!conn||!conn[_0x1593b9(0x18f)])return;await action[_0x1593b9(0x1e5)](),console[_0x1593b9(0x173)](_0x58feac[_0x1593b9(0x1a8)](action['message']+'\x0a'));},0xa*0x3c*0x3e8);}_quickTest()['catch'](console[_0x5ec2fa(0x170)]);
